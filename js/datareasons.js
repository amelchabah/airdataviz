// d√©claration des svg

let blanksvgfamily = '<svg id="family" width="50" height="50" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M40 55.3199C44.577 55.3199 48.8126 53.8583 52.2656 51.3765C54.2195 49.9721 57.0585 50.0213 58.2664 52.1023C61.4644 57.6118 63.3766 64.5997 63.3766 72.203C56.8831 76.2729 52.9106 80 40 80C27.0894 80 21.7336 75.5951 16.6234 72.203C16.6234 64.5997 18.5356 57.6118 21.7336 52.1023C22.9415 50.0213 25.7805 49.9721 27.7344 51.3765C31.1874 53.8583 35.423 55.3199 40 55.3199Z" fill="#F1F7ED"/><path d="M58.1818 33.7662C58.1818 43.8078 50.0415 51.9481 40 51.9481C29.9585 51.9481 21.8182 43.8078 21.8182 33.7662C21.8182 23.7247 29.9585 15.5844 40 15.5844C50.0415 15.5844 58.1818 23.7247 58.1818 33.7662Z" fill="#F1F7ED"/></svg>';

let blanksvgbusiness = '<svg id="business" width="50" height="50" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M40 55.3199C44.577 55.3199 48.8126 53.8583 52.2656 51.3765C54.2195 49.9721 57.0585 50.0213 58.2664 52.1023C61.4644 57.6118 63.3766 64.5997 63.3766 72.203C56.8831 76.2729 52.9106 80 40 80C27.0894 80 21.7336 75.5951 16.6234 72.203C16.6234 64.5997 18.5356 57.6118 21.7336 52.1023C22.9415 50.0213 25.7805 49.9721 27.7344 51.3765C31.1874 53.8583 35.423 55.3199 40 55.3199Z" fill="#F1F7ED"/><path d="M58.1818 33.7662C58.1818 43.8078 50.0415 51.9481 40 51.9481C29.9585 51.9481 21.8182 43.8078 21.8182 33.7662C21.8182 23.7247 29.9585 15.5844 40 15.5844C50.0415 15.5844 58.1818 23.7247 58.1818 33.7662Z" fill="#F1F7ED"/></svg>';

let blanksvgholidays = '<svg id="holidays" width="50" height="50" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M40 55.3199C44.577 55.3199 48.8126 53.8583 52.2656 51.3765C54.2195 49.9721 57.0585 50.0213 58.2664 52.1023C61.4644 57.6118 63.3766 64.5997 63.3766 72.203C56.8831 76.2729 52.9106 80 40 80C27.0894 80 21.7336 75.5951 16.6234 72.203C16.6234 64.5997 18.5356 57.6118 21.7336 52.1023C22.9415 50.0213 25.7805 49.9721 27.7344 51.3765C31.1874 53.8583 35.423 55.3199 40 55.3199Z" fill="#F1F7ED"/><path d="M58.1818 33.7662C58.1818 43.8078 50.0415 51.9481 40 51.9481C29.9585 51.9481 21.8182 43.8078 21.8182 33.7662C21.8182 23.7247 29.9585 15.5844 40 15.5844C50.0415 15.5844 58.1818 23.7247 58.1818 33.7662Z" fill="#F1F7ED"/></svg>';

let blanksvgother = '<svg id="other" width="50" height="50" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M40 55.3199C44.577 55.3199 48.8126 53.8583 52.2656 51.3765C54.2195 49.9721 57.0585 50.0213 58.2664 52.1023C61.4644 57.6118 63.3766 64.5997 63.3766 72.203C56.8831 76.2729 52.9106 80 40 80C27.0894 80 21.7336 75.5951 16.6234 72.203C16.6234 64.5997 18.5356 57.6118 21.7336 52.1023C22.9415 50.0213 25.7805 49.9721 27.7344 51.3765C31.1874 53.8583 35.423 55.3199 40 55.3199Z" fill="#F1F7ED"/><path d="M58.1818 33.7662C58.1818 43.8078 50.0415 51.9481 40 51.9481C29.9585 51.9481 21.8182 43.8078 21.8182 33.7662C21.8182 23.7247 29.9585 15.5844 40 15.5844C50.0415 15.5844 58.1818 23.7247 58.1818 33.7662Z" fill="#F1F7ED"/></svg>';


let holidayssvg = '<svg width="50" height="50" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M25 34.5749C27.8606 34.5749 30.5079 33.6615 32.666 32.1103C33.8872 31.2326 35.6616 31.2633 36.4165 32.5639C38.4153 36.0074 39.6104 40.3748 39.6104 45.1269C36.039 47.437 33.0691 50 25 50C16.9309 50 13.5835 47.2469 10.3896 45.1269C10.3896 40.3748 11.5847 36.0074 13.5835 32.5639C14.3384 31.2633 16.1128 31.2326 17.334 32.1103C19.4921 33.6615 22.1394 34.5749 25 34.5749Z" fill="#0A061D"/><path fill-rule="evenodd" clip-rule="evenodd" d="M36.3636 21.1039C36.3636 27.3799 31.276 32.4675 25 32.4675C18.724 32.4675 13.6364 27.3799 13.6364 21.1039C13.6364 14.8279 18.724 9.74026 25 9.74026C31.276 9.74026 36.3636 14.8279 36.3636 21.1039ZM18.2325 17.3701C17.506 17.3701 16.8092 17.6438 16.2955 18.1309C15.7817 18.618 15.4931 19.2787 15.4931 19.9675V20.6169H14.8082C14.6266 20.6169 14.4524 20.6853 14.324 20.8071C14.1955 20.9288 14.1234 21.094 14.1234 21.2662C14.1234 21.4385 14.1955 21.6036 14.324 21.7254C14.4524 21.8472 14.6266 21.9156 14.8082 21.9156H15.4931V22.5649C15.4931 23.2538 15.7817 23.9145 16.2955 24.4016C16.8092 24.8887 17.506 25.1623 18.2325 25.1623H19.6023C20.6921 25.1623 21.7373 24.7519 22.5079 24.0212C23.2785 23.2905 23.7114 22.2995 23.7114 21.2662C23.7114 20.9218 23.8558 20.5915 24.1126 20.3479C24.3695 20.1044 24.7179 19.9675 25.0812 19.9675C25.4444 19.9675 25.7928 20.1044 26.0497 20.3479C26.3066 20.5915 26.4509 20.9218 26.4509 21.2662C26.4509 22.2995 26.8838 23.2905 27.6544 24.0212C28.4251 24.7519 29.4702 25.1623 30.5601 25.1623H31.9298C32.6563 25.1623 33.3531 24.8887 33.8669 24.4016C34.3806 23.9145 34.6692 23.2538 34.6692 22.5649V21.9156H35.3541C35.5357 21.9156 35.7099 21.8472 35.8384 21.7254C35.9668 21.6036 36.039 21.4385 36.039 21.2662C36.039 21.094 35.9668 20.9288 35.8384 20.8071C35.7099 20.6853 35.5357 20.6169 35.3541 20.6169H34.6692V19.9675C34.6692 19.2787 34.3806 18.618 33.8669 18.1309C33.3531 17.6438 32.6563 17.3701 31.9298 17.3701H29.1903C28.6225 17.3699 28.0686 17.537 27.6054 17.8483C27.1421 18.1596 26.7923 18.5998 26.6043 19.1078C26.154 18.821 25.6236 18.6682 25.0812 18.6688C24.5387 18.6682 24.0084 18.821 23.558 19.1078C23.3701 18.5998 23.0203 18.1596 22.557 17.8483C22.0937 17.537 21.5398 17.3699 20.972 17.3701H18.2325Z" fill="#0A061D"/></svg>'

let businesssvg = '<svg width="50" height="50" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M40 55.3199C44.577 55.3199 48.8126 53.8583 52.2656 51.3765C54.2195 49.9721 57.0585 50.0213 58.2664 52.1023C61.4644 57.6118 63.3766 64.5997 63.3766 72.203C58.2664 75.5951 52.4324 79.9972 39.5218 79.9972C26.6113 79.9972 21.7336 75.5951 16.6234 72.203C16.6234 64.5997 18.5356 57.6118 21.7336 52.1023C22.9415 50.0213 25.7805 49.9721 27.7344 51.3765C31.1874 53.8583 35.423 55.3199 40 55.3199Z" fill="#0A061D"/><path d="M42.5843 54.9165C42.4425 54.6859 42.1912 54.5455 41.9205 54.5455H38.0272C37.7514 54.5455 37.4963 54.6911 37.3561 54.9286L36.2875 56.7389C36.171 56.9362 36.1473 57.1747 36.2226 57.3911L37.4002 60.7756C37.5092 61.0888 37.8045 61.2987 38.1362 61.2987H41.8097C42.1377 61.2987 42.4306 61.0933 42.5423 60.785L43.768 57.4034C43.8489 57.1801 43.8236 56.9321 43.6992 56.7297L42.5843 54.9165Z" fill="#FFE26E"/><path d="M36.5157 71.4375C36.3389 71.257 36.2605 71.002 36.3055 70.7534L38.0659 61.03C38.133 60.6592 38.4558 60.3896 38.8326 60.3896H41.1826C41.5526 60.3896 41.8716 60.6498 41.9459 61.0122L43.9411 70.7362C43.9941 70.9942 43.9131 71.2615 43.7259 71.4467L40.6266 74.5141C40.3196 74.8179 39.8241 74.814 39.5218 74.5056L36.5157 71.4375Z" fill="#FFE26E"/><path d="M58.1818 33.7662C58.1818 43.8078 50.0415 51.9481 40 51.9481C29.9585 51.9481 21.8182 43.8078 21.8182 33.7662C21.8182 23.7247 29.9585 15.5844 40 15.5844C50.0415 15.5844 58.1818 23.7247 58.1818 33.7662Z" fill="#0A061D"/></svg>'

let familysvg = '<svg width="50" height="50" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M25.6048 10.6855C25.6048 16.5869 30.3889 21.371 36.2903 21.371C42.1917 21.371 46.9758 16.5869 46.9758 10.6855C46.9758 4.78405 42.1917 0 36.2903 0C30.3889 0 25.6048 4.78405 25.6048 10.6855Z" fill="#0A061D"/><path d="M20.8018 47.904C21.7385 48.0307 22.6792 47.6679 23.2472 46.9123C25.8317 43.4748 24.8992 36.187 24.8992 30.8468C24.8992 26.728 26.4829 25.3816 24.8597 22.2766C23.9945 20.6214 21.7838 20.5904 20.1944 21.5712C18.3118 22.7328 16.0939 23.403 13.7195 23.403C11.345 23.403 9.12711 22.7328 7.2446 21.5712C5.65512 20.5904 3.44449 20.6214 2.57925 22.2766C0.956104 25.3816 -3.05176e-05 29.1928 -3.05176e-05 33.3116C-3.05176e-05 33.8285 0.0150324 34.3406 0.0445855 34.8471C0.077106 35.4044 0.282341 35.9375 0.628539 36.3754C5.49555 42.5326 12.6461 46.8017 20.8018 47.904Z" fill="#0A061D"/><path d="M29.1981 47.9689C28.2614 48.0955 27.3207 47.7327 26.7527 46.9772C24.1683 43.5396 24.9472 37.9877 24.9472 32.6475C24.9472 28.5287 23.5171 25.4465 25.1402 22.3414C26.0055 20.6862 28.2161 20.6553 29.8056 21.636C31.6881 22.7976 33.906 23.4679 36.2805 23.4679C38.6549 23.4679 40.8728 22.7976 42.7553 21.636C44.3448 20.6553 46.5555 20.6862 47.4207 22.3414C49.0438 25.4465 50 29.2576 50 33.3764C50 33.8934 49.9849 34.4055 49.9554 34.9119C49.9228 35.4693 49.7176 36.0023 49.3714 36.4403C44.5044 42.5975 37.3538 46.8665 29.1981 47.9689Z" fill="#0A061D"/><path d="M3.02417 10.6855C3.02417 16.5869 7.80822 21.371 13.7097 21.371C19.6111 21.371 24.3951 16.5869 24.3951 10.6855C24.3951 4.78405 19.6111 0 13.7097 0C7.80822 0 3.02417 4.78405 3.02417 10.6855Z" fill="#0A061D"/><path d="M24.9472 32.6475C22.7222 32.6475 20.6406 32.0339 18.8623 30.9666C17.2608 30.0055 15.0487 30.0351 14.196 31.6969C12.6802 34.6509 11.7896 38.2573 11.7896 42.1502C11.7896 49.7329 14.9097 49.2917 19.5807 48.6312C21.0772 48.4196 22.7328 48.1855 24.4959 48.1855C26.2247 48.1855 27.901 48.4105 29.4522 48.6188C34.4213 49.2859 38.1048 49.7804 38.1048 42.1502C38.1048 38.2573 37.2142 34.6509 35.6983 31.6969C34.8456 30.0352 32.6336 30.0055 31.0321 30.9666C29.2538 32.0339 27.1721 32.6475 24.9472 32.6475Z" fill="#FFE26E"/><path d="M14.7177 20.5645C14.7177 26.2432 19.2761 30.8468 24.8992 30.8468C30.5222 30.8468 35.0806 26.2432 35.0806 20.5645C35.0806 14.8858 30.5222 10.2823 24.8992 10.2823C19.2761 10.2823 14.7177 14.8858 14.7177 20.5645Z" fill="#FFE26E"/></svg>';

let othersvg = '<svg width="50" height="50" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M25 34.5749C27.8606 34.5749 30.5079 33.6615 32.666 32.1103C33.8872 31.2326 35.6616 31.2633 36.4165 32.5639C38.4153 36.0074 39.6104 40.3748 39.6104 45.1269C35.5519 47.6706 33.0691 50 25 50C16.9309 50 13.5835 47.2469 10.3896 45.1269C10.3896 40.3748 11.5847 36.0074 13.5835 32.5639C14.3384 31.2633 16.1128 31.2326 17.334 32.1103C19.4921 33.6615 22.1394 34.5749 25 34.5749Z" fill="#0A061D"/><path d="M36.3636 21.1039C36.3636 27.3799 31.276 32.4675 25 32.4675C18.724 32.4675 13.6364 27.3799 13.6364 21.1039C13.6364 14.8279 18.724 9.74026 25 9.74026C31.276 9.74026 36.3636 14.8279 36.3636 21.1039Z" fill="#0A061D"/></svg>'

// remplissage de la grille
let wrapperBlock = document.querySelector(".container");

fetch('./json/data_reasons.json').then(function(res) {
    res.json().then(function(data) {
        window.onload = function() {
            data.forEach(function viewData(reason) {

                for (var i = 0; i < reason.percentage; i++) {
                    var square = document.createElement("div");
                    square.classList.add("" + reason.reason + "");
                    wrapperBlock.appendChild(square).innerHTML += '<svg id="blanksvg' + reason.reason + '" width="50" height="50" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M40 55.3199C44.577 55.3199 48.8126 53.8583 52.2656 51.3765C54.2195 49.9721 57.0585 50.0213 58.2664 52.1023C61.4644 57.6118 63.3766 64.5997 63.3766 72.203C56.8831 76.2729 52.9106 80 40 80C27.0894 80 21.7336 75.5951 16.6234 72.203C16.6234 64.5997 18.5356 57.6118 21.7336 52.1023C22.9415 50.0213 25.7805 49.9721 27.7344 51.3765C31.1874 53.8583 35.423 55.3199 40 55.3199Z" fill="#F1F7ED"/><path d="M58.1818 33.7662C58.1818 43.8078 50.0415 51.9481 40 51.9481C29.9585 51.9481 21.8182 43.8078 21.8182 33.7662C21.8182 23.7247 29.9585 15.5844 40 15.5844C50.0415 15.5844 58.1818 23.7247 58.1818 33.7662Z" fill="#F1F7ED"/></svg>';
                }
            })
        }
    });
});


// animation au hover

let $holidays = $('.bouton.divholidays');
let $business = $('.bouton.divbusiness');
let $family = $('.bouton.divfamily');
let $other = $('.bouton.divother');


function businessHover() {
    $(".business").html(businesssvg);
    $(this).css("cursor", "pointer").css("color", "#0a061d");
};

function holidaysHover() {
    $(".holidays").html(holidayssvg);
    $(this).css("cursor", "pointer").css("color", "#0a061d");
};

function familyHover() {
    $(".family").html(familysvg);
    $(this).css("cursor", "pointer").css("color", "#0a061d");
};

function otherHover() {
    $(".other").html(othersvg);
    $(this).css("cursor", "pointer").css("color", "#0a061d");
};

function evidenceRemoveFamily() {
    $(".family").html(blanksvgfamily);
    $(this).css("cursor", null).css("color", "#f1f7ed");;
};

function evidenceRemoveBusiness() {
    $(".business").html(blanksvgbusiness);
    $(this).css("cursor", null).css("color", "#f1f7ed");;
};

function evidenceRemoveHolidays() {
    $(".holidays").html(blanksvgholidays);
    $(this).css("cursor", null).css("color", "#f1f7ed");;
};

function evidenceRemoveOther() {
    $(".other").html(blanksvgother);
    $(this).css("cursor", null).css("color", "#f1f7ed");;
};



$business.on('mouseover', businessHover).on('mouseleave', evidenceRemoveBusiness);
$holidays.on('mouseover', holidaysHover).on('mouseleave', evidenceRemoveHolidays);
$family.on('mouseover', familyHover).on('mouseleave', evidenceRemoveFamily);
$other.on('mouseover', otherHover).on('mouseleave', evidenceRemoveOther);